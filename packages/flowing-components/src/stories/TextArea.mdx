import { Meta } from '@storybook/blocks'

<Meta title="表单/TextArea/文档" />

# TextArea API

## 属性

<table className="min-w-full border-collapse">
  <thead>
    <tr>
      <th className="border p-2 bg-slate-50">属性名</th>
      <th className="border p-2 bg-slate-50">说明</th>
      <th className="border p-2 bg-slate-50">类型</th>
      <th className="border p-2 bg-slate-50">默认值</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td className="border p-2">value</td>
      <td className="border p-2">输入框的值（受控模式）</td>
      <td className="border p-2 font-mono text-sm">string</td>
      <td className="border p-2">-</td>
    </tr>
    <tr>
      <td className="border p-2">defaultValue</td>
      <td className="border p-2">输入框的默认值（非受控模式）</td>
      <td className="border p-2 font-mono text-sm">string</td>
      <td className="border p-2">-</td>
    </tr>
    <tr>
      <td className="border p-2">placeholder</td>
      <td className="border p-2">占位提示文字</td>
      <td className="border p-2 font-mono text-sm">string</td>
      <td className="border p-2">-</td>
    </tr>
    <tr>
      <td className="border p-2">status</td>
      <td className="border p-2">状态</td>
      <td className="border p-2 font-mono text-sm">
        'default' | 'error' | 'warning'
      </td>
      <td className="border p-2 font-mono text-sm">'default'</td>
    </tr>
    <tr>
      <td className="border p-2">size</td>
      <td className="border p-2">尺寸</td>
      <td className="border p-2 font-mono text-sm">
        'small' | 'medium' | 'large' | 'default'
      </td>
      <td className="border p-2 font-mono text-sm">'default'</td>
    </tr>
    <tr>
      <td className="border p-2">maxLength</td>
      <td className="border p-2">最大字符数</td>
      <td className="border p-2 font-mono text-sm">number</td>
      <td className="border p-2">-</td>
    </tr>
    <tr>
      <td className="border p-2">showWordLimit</td>
      <td className="border p-2">是否显示字数统计</td>
      <td className="border p-2 font-mono text-sm">boolean</td>
      <td className="border p-2 font-mono text-sm">false</td>
    </tr>
    <tr>
      <td className="border p-2">allowClear</td>
      <td className="border p-2">是否显示清除按钮</td>
      <td className="border p-2 font-mono text-sm">boolean</td>
      <td className="border p-2 font-mono text-sm">false</td>
    </tr>
    <tr>
      <td className="border p-2">disabled</td>
      <td className="border p-2">是否禁用</td>
      <td className="border p-2 font-mono text-sm">boolean</td>
      <td className="border p-2 font-mono text-sm">false</td>
    </tr>
    <tr>
      <td className="border p-2">readOnly</td>
      <td className="border p-2">是否只读</td>
      <td className="border p-2 font-mono text-sm">boolean</td>
      <td className="border p-2 font-mono text-sm">false</td>
    </tr>
    <tr>
      <td className="border p-2">rows</td>
      <td className="border p-2">显示行数</td>
      <td className="border p-2 font-mono text-sm">number</td>
      <td className="border p-2">-</td>
    </tr>
    <tr>
      <td className="border p-2">cols</td>
      <td className="border p-2">显示列数</td>
      <td className="border p-2 font-mono text-sm">number</td>
      <td className="border p-2">-</td>
    </tr>
    <tr>
      <td className="border p-2">autoSize</td>
      <td className="border p-2">自动调整高度</td>
      <td className="border p-2 font-mono text-sm">
        boolean | {`{ minRows?: number; maxRows?: number }`}
      </td>
      <td className="border p-2">false</td>
    </tr>
    <tr>
      <td className="border p-2">onChange</td>
      <td className="border p-2">值变化时的回调</td>
      <td className="border p-2 font-mono text-sm">(e: ChangeEvent) => void</td>
      <td className="border p-2">-</td>
    </tr>
    <tr>
      <td className="border p-2">onPressEnter</td>
      <td className="border p-2">按下回车时的回调</td>
      <td className="border p-2 font-mono text-sm">
        (e: KeyboardEvent) => void
      </td>
      <td className="border p-2">-</td>
    </tr>
    <tr>
      <td className="border p-2">onClear</td>
      <td className="border p-2">点击清除按钮时的回调</td>
      <td className="border p-2 font-mono text-sm">() => void</td>
      <td className="border p-2">-</td>
    </tr>
    <tr>
      <td className="border p-2">onFocus</td>
      <td className="border p-2">获得焦点时的回调</td>
      <td className="border p-2 font-mono text-sm">(e: FocusEvent) => void</td>
      <td className="border p-2">-</td>
    </tr>
    <tr>
      <td className="border p-2">onBlur</td>
      <td className="border p-2">失去焦点时的回调</td>
      <td className="border p-2 font-mono text-sm">(e: FocusEvent) => void</td>
      <td className="border p-2">-</td>
    </tr>
  </tbody>
</table>

## 说明

1. TextArea 支持中文输入法，在输入过程中不会触发 onChange，只有在输入完成后才会触发
2. autoSize 和 rows/cols 不建议同时使用，会导致布局异常
3. 按下 Shift+Enter 可以换行，单独按 Enter 会触发 onPressEnter 回调
4. 当设置 maxLength 时，超出部分将无法输入
5. showWordLimit 需要配合 maxLength 使用才会显示字数统计
6. 清除按钮会同时触发 onChange 和 onClear 回调

## 代码示例

```tsx // 基础用法

<TextArea placeholder="请输入内容..." />
// 自动调整高度
<TextArea autoSize />
// 设置最小最大行数
<TextArea autoSize={{ minRows: 3, maxRows: 5 }} />
// 显示字数限制
<TextArea maxLength={100} showWordLimit />
// 带清除按钮
<TextArea allowClear />
// 不同状态
<TextArea status="error" />
<TextArea disabled />
<TextArea readOnly />
```
